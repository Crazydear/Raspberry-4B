# Ubuntu 20.04 64 位

## USB 无法启动
[链接](https://www.raspberrypi.org/forums/viewtopic.php?t=278791)

## 网络配置
### 连接WiFi
```bash
cat /etc/netplan/50-cloud-init.yaml
 
network:
    ethernets:
        eth0:
            dhcp4: true
            optional: true
    version: 2
    wifis:
            wlan0:
                    dhcp4: true
                    access-points:
                            "你的wifi的ssid":
                                    password: "你的密码"
```
### 静态IP
```bash
network:
  ethernets:
    ens160:     #配置的网卡的名称
      addresses: [192.168.0.105/24]    #配置的静态ip地址和掩码
      dhcp4: no    #关闭DHCP，如果需要打开DHCP则写yes
      optional: true
      gateway4: 192.168.0.1    #网关地址
      nameservers:
         addresses: [114.114.114.114,180.76.76.76]    #DNS服务器地址，多个DNS服务器地址需要用英文逗号分隔开
  version: 2
  renderer: networkd    #指定后端采用systemd-networkd或者Network Manager，可不填写则默认使用systemd-workd
  
作者：Leif160519
链接：https://hacpai.com/article/1593929878472
来源：黑客派
协议：CC BY-SA 4.0 https://creativecommons.org/licenses/by-sa/4.0/
```

### 网关问题

>无法解析域名

```
#方法1：
cat > /etc/resolv.conf <<EOF
nameserver 223.5.5.5
nameserver 223.6.6.6
EOF

# 方法2：
route add default gw 192.168.1.1
```

### 树莓派Ubuntu系统安装vcgencmd

[链接](https://www.mmuaa.com/post/3fa8ee5cf9ec9134.html)

> 首先用su命令进入root用户模式下，接着执行
```
cd /tmp
git clone https://github.com/raspberrypi/userland.git 
apt-get install cmake
cd userland
```
> 如果你使用的是32位OS，输入
```
./buildme
```
> 如果是64位OS，则输入
```
./buildme --aarch64
```
> 接着，在/opt/vc/bin目录下就有vcgencmd了。直接运行，可能导致报错：

./vcgencmd: error while loading shared libraries: libvchiq_arm.so: cannot open shared object file: No such file or directory

> 在root用户下执行：
```
echo "/opt/vc/lib" >> /etc/ld.so.conf
ldconfig
```
> 即可。

> 如果需要，可以将/opt/vc/bin加入到环境变量PATH内。
